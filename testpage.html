<!DOCTYPE html>
<title>Magic Star</title>
<html>
    <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="comics-home.html">Comics</a></li>
    </ul>
  <link rel="stylesheet" href="style.css">


<body>
    <div class="body">

  <div class="nav">
    <select id="chapter-select" class="button">
      <option value="Chapter1">Chapter 1</option>
    </select>
    <div id="comic-container" class="background">
        <h2 id="comic-image-name"></h2>
        <img id="comic-image" src="" alt="Comic Page" class="comic">
      </div>
      <div class="comicnav">
    <button id="previous-btn" class="button" disabled>Previous</button>
    <button id="next-btn" class="button" disabled>Next</button>
      </div>
  </div>

    </div>

  <script>

const fs = require('fs');
const path = require('path');

// Function to read the comic folder and build the chapters object
function buildComicArray(comicFolderPath) {
    const chapters = {};

    // Read the contents of the comic folder
    const files = fs.readdirSync(comicFolderPath);

    // Loop through each file in the comic folder
    files.forEach(file => {
        const chapterName = path.basename(file, path.extname(file)); // Extract chapter name without extension

        // Check if the file is an image file
        if (path.extname(file).toLowerCase() === '.png' || path.extname(file).toLowerCase() === '.jpg') {
            // Check if chapter already exists in the chapters object
            if (!chapters[chapterName]) {
                chapters[chapterName] = {
                    pages: []
                };
            }
            // Add the file path to the pages array of the corresponding chapter
            chapters[chapterName].pages.push(path.join(comicFolderPath, file));
        }
    });

    return chapters;
}

// Path to the comic folder
const comicFolderPath = path.join(__dirname, 'Images', 'Comic');

// Build the chapters object
const chapters = buildComicArray(comicFolderPath);

console.log(chapters); // Output the built chapters object

  </script>
</body>

</html>
